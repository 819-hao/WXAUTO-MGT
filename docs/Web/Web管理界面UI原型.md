# wxauto_Mgt Web管理界面UI原型

本文档提供wxauto_Mgt项目Web管理界面的UI原型设计，包括关键页面的布局示意图和交互说明。UI设计遵循现有桌面应用的布局风格，采用卡片式设计，精简导航结构。

## 1. 整体布局

```
+------------------------------------------+
|  Logo  |  刷新  | 设置 |  用户  | 退出  |  <- 顶部导航栏
+--------+--------+------+--------+-------+
|        |                                 |
|        |                                 |
|  精简  |           内容区域              |  <- 主内容区
|  菜单  |                                 |
|  导航  |                                 |
|        |                                 |
+--------+---------------------------------+
|             状态栏 & 版本信息            |  <- 底部状态栏
+------------------------------------------+
```

## 2. 仪表盘页面

```
+------------------------------------------+
|  系统状态卡片  |  实例状态概览           |
|  - 运行状态    |  - 在线: 3              |
|  - 启动时间    |  - 离线: 1              |
|  - 版本        |  - 错误: 0              |
+----------------+-------------------------+
|  消息处理统计                            |
|  +----------------+  +----------------+  |
|  | 今日消息: 120  |  | 成功率: 98.5%  |  |
|  +----------------+  +----------------+  |
|  +----------------+  +----------------+  |
|  | 待处理: 5      |  | 失败: 2        |  |
|  +----------------+  +----------------+  |
+------------------------------------------+
|  资源使用情况                            |
|  [CPU使用率图表]    [内存使用率图表]     |
|                                          |
+------------------------------------------+
|  最近活动日志                            |
|  - 2023-05-01 10:30 添加了新实例"测试1"  |
|  - 2023-05-01 10:25 更新了平台配置       |
|  - 2023-05-01 10:20 系统启动             |
+------------------------------------------+
```

## 3. wxauto实例管理页面

```
+------------------------------------------+
|  [添加实例]  [刷新]  [自动刷新: 开]  [30秒 ▼]
+------------------------------------------+
|                  |                       |
|                  |  状态指标:            |
|                  |  +-------------------+|
|                  |  | 消息: 47条        ||
|  +------------+  |  | 监听对象: 1个     ||
|  | 实例卡片1  |  |  | 运行时间: 04:26:41||
|  | 微信1      |  |  | CPU: 10.8%        ||
|  | inst_1     |  |  | 内存: 6.2/4.0GB   ||
|  | [编辑][删除]  |  +-------------------+|
|  +------------+  |                       |
|                  |  [启动]  [停止]       |
|  +------------+  |                       |
|  | 实例卡片2  |  |  资源使用趋势:        |
|  | 微信2      |  |  [CPU使用率图表]      |
|  | inst_2     |  |  [内存使用率图表]     |
|  | [编辑][删除]  |                       |
|  +------------+  |                       |
|                  |                       |
+------------------------------------------+
```

### 3.1 添加/编辑实例对话框

```
+------------------------------------------+
|  添加新实例                              |
+------------------------------------------+
|  实例名称:  [___________________]        |
|                                          |
|  API基础URL: [___________________]       |
|                                          |
|  API密钥:    [___________________]       |
|                                          |
|  超时设置:   [___] 秒                    |
|                                          |
|  备注:                                   |
|  [                                    ]  |
|  [                                    ]  |
|                                          |
|  启用状态:   [开关]                      |
|                                          |
|  [取消]                    [保存]        |
+------------------------------------------+
```

## 4. 服务平台与规则管理页面

```
+------------------------------------------+
|  [刷新]  [显示实例: 微信1 ▼]             |
+------------------------------------------+
|                  |                       |
|                  |  服务平台配置         |
|                  |  [添加平台]  [刷新]   |
|  +------------+  |  +-------------------+|
|  | 实例卡片   |  |  | ID | 名称 | 类型 | ||
|  | 微信1      |  |  |----+------+------+||
|  | inst_1     |  |  |dify|通用  |Dify  |▶|
|  | [编辑][删除]  |  |open|个人  |OpenAI|▶|
|  +------------+  |  |keyw|测试  |关键词|▶|
|                  |  +-------------------+|
|                  |  共 3 个服务平台      |
|                  |                       |
|                  |  消息转发规则配置     |
|                  |  [添加规则]  [刷新]   |
|                  |  [显示全部规则]       |
|                  |  +-------------------+|
|                  |  | ID | 名称 | 聊天 | ||
|                  |  |----+------+------+||
|                  |  |rule|测试  |测试群|▶|
|                  |  |rule|AI   |张三  |▶|
|                  |  |rule|基本 |*     |▶|
|                  |  +-------------------+|
|                  |  共 3 个规则          |
+------------------------------------------+
```

### 4.1 平台操作按钮详情

```
+------------------------------------------+
| ID | 名称 | 类型  | 状态 |      操作     |
+----+------+-------+------+---------------+
|dify|通用  |Dify   |启用  |[编辑][删除][测试]|
+----+------+-------+------+---------------+
```

### 4.2 规则操作按钮详情

```
+------------------------------------------+
| ID | 名称 | 实例 | 聊天对象 | 平台 | 操作 |
+----+------+------+----------+------+------+
|rule|测试  |微信1 |测试群    |通用  |[编辑][删除]|
+----+------+------+----------+------+------+
```

### 4.3 添加/编辑平台对话框 (Dify示例)

```
+------------------------------------------+
|  添加新平台                              |
+------------------------------------------+
|  平台名称:  [___________________]        |
|                                          |
|  平台类型:  [Dify ▼]                     |
|                                          |
|  消息发送模式:                           |
|  (o) 立即发送  ( ) 分段发送              |
|                                          |
|  API基础URL: [___________________]       |
|                                          |
|  API密钥:    [___________________]       |
|                                          |
|  会话ID:     [___________________]       |
|                                          |
|  用户ID:     [___________________]       |
|                                          |
|  启用状态:   [开关]                      |
|                                          |
|  [取消]                    [保存]        |
+------------------------------------------+
```

### 4.4 添加/编辑平台对话框 (关键词匹配示例)

```
+------------------------------------------+
|  添加新平台                              |
+------------------------------------------+
|  平台名称:  [___________________]        |
|                                          |
|  平台类型:  [关键词匹配 ▼]               |
|                                          |
|  消息发送模式:                           |
|  (o) 立即发送  ( ) 分段发送              |
|                                          |
|  回复时间范围:                           |
|  最小: [__] 秒    最大: [__] 秒          |
|                                          |
|  关键词规则:                             |
|  +----------------------------------+    |
|  | 关键词: [____________]           |    |
|  | 匹配方式: [精确匹配 ▼]           |    |
|  | 回复内容:                        |    |
|  | [                              ] |    |
|  | [                              ] |    |
|  +----------------------------------+    |
|  [+ 添加规则]                            |
|                                          |
|  启用状态:   [开关]                      |
|                                          |
|  [取消]                    [保存]        |
+------------------------------------------+
```

### 4.5 添加/编辑规则对话框

```
+------------------------------------------+
|  添加新规则                              |
+------------------------------------------+
|  规则名称:  [___________________]        |
|                                          |
|  实例:      [微信1 ▼]                    |
|                                          |
|  聊天对象匹配模式: [_______________]     |
|  (支持*通配符，如"测试*"匹配所有以测试开头的聊天对象)|
|                                          |
|  服务平台:  [Dify1 ▼]                    |
|                                          |
|  规则优先级: [__]                        |
|  (数字越大优先级越高)                    |
|                                          |
|  只响应@消息: [开关]                     |
|                                          |
|  @名称:     [___________________]        |
|  (多个名称用逗号分隔)                    |
|                                          |
|  回复时@发送者: [开关]                   |
|                                          |
|  启用状态:   [开关]                      |
|                                          |
|  [取消]                    [保存]        |
+------------------------------------------+
```

## 5. 消息监听管理页面

```
+------------------------------------------+
|  [刷新]  [实例: 全部 ▼]  [自动刷新: 开]  |
+------------------------------------------+
|                  |                       |
|  监听对象列表    |  消息记录             |
|  [搜索: _______] |  监听对象: 张三 (微信1)|
|  +-------------+ |  [时间范围] [发送者 ▼]|
|  | 实例 | 对象 | |                       |
|  |------+------| |  2023-05-01 10:30:45  |
|  |微信1 |张三  | |  +--------------------+|
|  |微信1 |测试群| |  | 张三: 你好，请问今天||
|  |微信2 |李四  | |  | 天气怎么样？       ||
|  +-------------+ |  +--------------------+|
|                  |                       |
|                  |  2023-05-01 10:31:02  |
|                  |  +--------------------+|
|                  |  | 系统: 今天天气晴朗，||
|                  |  | 气温20-25度，适合外 ||
|                  |  | 出活动。           ||
|                  |  +--------------------+|
+------------------------------------------+
|  日志区域                                |
|  [日志级别: INFO ▼] [关键词: _______]   |
|  [自动滚动: 开]                          |
|                                          |
|  2023-05-01 10:30:45 - INFO - 获取到新消息:|
|  实例=微信1, 聊天=张三, 内容=你好，请问...|
|                                          |
|  2023-05-01 10:31:02 - INFO - 消息处理完成:|
|  ID=msg_123, 平台=Dify1                  |
+------------------------------------------+
```

### 5.1 监听对象操作按钮详情

```
+------------------------------------------+
| 实例  | 监听对象 | 最后消息 | 超时 | 操作 |
+-------+----------+----------+------+------+
| 微信1 | 张三     | 10:30:45 | 29分 |[查看][移除]|
+-------+----------+----------+------+------+
```

## 6. 系统设置页面

```
+------------------------------------------+
|  系统设置                                |
+------------------------------------------+
|  监听服务设置:                           |
|  +--------------------------------------+|
|  | 轮询间隔:    [__] 秒                 ||
|  | 超时时间:    [__] 分钟               ||
|  | 最大监听数:  [__] 个                 ||
|  +--------------------------------------+|
|                                          |
|  Web服务设置:                            |
|  +--------------------------------------+|
|  | 端口:        [____]                  ||
|  | 主机:        [___________________]   ||
|  | 启用HTTPS:   [开关]                  ||
|  | 证书文件:    [___________________]   ||
|  | 密钥文件:    [___________________]   ||
|  +--------------------------------------+|
|                                          |
|  日志设置:                               |
|  +--------------------------------------+|
|  | 日志级别:    [INFO ▼]                ||
|  | 日志保留天数: [__] 天                ||
|  +--------------------------------------+|
|                                          |
|  用户管理:                               |
|  +--------------------------------------+|
|  | [添加用户]  [刷新]                   ||
|  |                                      ||
|  | 用户名 | 角色    | 最后登录   | 操作 ||
|  | admin  | 管理员  | 2023-05-01 |[...] ||
|  | user1  | 普通用户| 2023-04-30 |[...] ||
|  +--------------------------------------+|
|                                          |
|  [取消]                    [保存]        |
+------------------------------------------+
```
